# Copilot 記憶系統

## 這個資料夾的用途

這是 **GitHub Copilot 的記憶系統資料夾**，用於：
- 記錄專案的重要決策
- 追蹤任務進度
- 避免 AI 偷看其他可能過時的 .md 檔案

---

## 為什麼需要這個資料夾？

### 問題：AI 記憶錯亂
如果讓 AI 隨意讀取專案中的所有 .md 檔案：
- ❌ 可能讀到過時的文檔（如舊版 README）
- ❌ 可能讀到實驗性的筆記（不準確的資訊）
- ❌ 導致 AI 給出錯誤的建議

### 解決方案：白名單機制
- ✅ AI 只讀取這個資料夾內的檔案
- ✅ 所有檔案都有時間戳記（判斷可靠性）
- ✅ 非白名單檔案必須詢問用戶才能讀取

---

## 資料夾結構

```
.copilot-memory/
├── README.md                    # 本說明檔案
├── PROJECT_OVERVIEW.md          # 專案概覽（手動更新）
├── TASKS/                       # 已完成任務記錄
│   └── YYYY-MM-DD_任務名稱.md
└── DECISIONS/                   # 重要決策記錄
    └── YYYY-MM-DD_決策主題.md
```

---

## 檔案命名規則

**時間戳記格式**：`YYYY-MM-DD_完整描述.md`

**範例**：
- `2025-12-17_重構登入系統.md`
- `2025-12-15_選擇React而非Vue.md`

**為什麼需要時間戳記？**
- 越舊的檔案 = 越可能過時
- AI 會優先讀取最近 7 天內的檔案
- 超過 90 天的檔案會被視為不可靠

---

## 使用方式

### 1. AI 每次對話開始時
```
1. 讀取 conversation-summary（Copilot 自動提供）
2. 讀取 .copilot-memory/PROJECT_OVERVIEW.md
3. 若有具體任務，搜尋 TASKS/ 中最近 7 天的檔案
4. ❌ 禁止隨意瀏覽其他 .md 檔案
```

### 2. 任務完成時
AI 會詢問：
> 「是否需要我記錄這個任務到記憶系統？」

您同意後，AI 會建立：
```
.copilot-memory/TASKS/2025-12-17_完成登入功能.md
```

### 3. 重大決策時
AI 會詢問：
> 「這是重要決策，是否需要記錄？」

您同意後，AI 會建立：
```
.copilot-memory/DECISIONS/2025-12-17_選擇PostgreSQL資料庫.md
```

---

## 白名單 vs 黑名單

### ✅ 白名單（AI 可以讀取）
- `.copilot-memory/` 資料夾內的所有檔案
- 用戶明確要求讀取的檔案
- 執行任務必須的程式碼檔案

### ❌ 黑名單（AI 禁止讀取，除非詢問用戶）
- `.copilot-memory/` 以外的 .md 檔案
- 個人筆記（如 `notes.md`、`TODO.md`）
- 可能過時的文檔（如舊版 `STRUCTURE.md`）

### 違規處理
當 AI 發現非白名單檔案時，會停止並詢問：
> 「我注意到 [檔案名稱]，但它不在記憶系統白名單中。  
> 這個檔案可能已過時或不準確。  
> 請問您是否需要我讀取此檔案？」

---

## AI 行為透明化

### 核心原則
**AI 做任何事之前都要通知用戶**

### 通知範例

**✅ 讀取檔案前：**
```
AI：「我需要讀取 .copilot-memory/TASKS/2025-12-15_重構API.md 來了解背景。」
```

**✅ 建立檔案前：**
```
AI：「是否需要我記錄這個決策到記憶系統？
建立檔案：.copilot-memory/DECISIONS/2025-12-17_選擇技術棧.md」
```

**✅ 發現非白名單檔案時：**
```
AI：「我注意到 OLD_README.md，但它不在白名單中。
是否需要讀取？（可能已過時）」
```

**❌ 禁止的行為：**
- 偷偷讀取檔案不告訴用戶
- 自動建立記憶檔案不詢問
- 假裝沒看到非白名單檔案

---

## 時間可靠性判斷

| 時間範圍 | 可靠性 | AI 行為 |
|---------|--------|---------|
| 7天內 | 90-100% | 優先參考 |
| 8-30天 | 60-89% | 需要驗證 |
| 31-90天 | 30-59% | 謹慎使用 |
| 90天以上 | <30% | 建議忽略 |

**範例**（假設今天是 2025-12-17）：
- `2025-12-17_任務.md` → 可靠性 100%（今天）
- `2025-12-10_任務.md` → 可靠性 95%（7天前）
- `2025-11-17_任務.md` → 可靠性 70%（30天前，需驗證）
- `2025-09-17_任務.md` → 可靠性 40%（91天前，可能過時）

---

## 最佳實踐

### 1. 定期更新 PROJECT_OVERVIEW.md
- 專案目標改變時更新
- 重大架構調整時更新
- 至少每月檢查一次

### 2. 任務完成後記錄
- 重要功能完成時記錄
- 解決複雜 bug 時記錄
- 學到新知識時記錄

### 3. 重大決策必須記錄
- 選擇技術棧時
- 架構設計決策時
- 重構方案決策時

### 4. 定期清理舊檔案
- 90天以上的檔案考慮歸檔或刪除
- 保留重要決策記錄
- 刪除過時的任務記錄

---

## 常見問題

**Q: 為什麼資料夾名稱是 `.copilot-memory`（有點號）？**  
A: 點號開頭的資料夾在 Unix/Linux 中會隱藏，避免干擾專案結構。

**Q: 我可以手動編輯這些檔案嗎？**  
A: 可以！這些是純 Markdown 檔案，隨時可以手動編輯。

**Q: 如果我想讓 AI 讀取某個非白名單檔案怎麼辦？**  
A: 明確告訴 AI：「請讀取 [檔案名稱]」即可。

**Q: 這個系統會自動運作嗎？**  
A: 不會。AI 每次都會詢問您是否需要記錄，您有完全的控制權。

---

**最後更新**：2025-12-17  
**維護者**：Query/Action/Solo Framework 開發團隊
